{{ define "header" }}
<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	{{ block "css" . }}
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
		crossorigin="anonymous">
	<link rel="stylesheet" href="/public/css/styles.css" /> 
	<link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
	{{ end }}
	{{ block "scripts" . }}
	<title>{{ .Environment.Description.Title }} - {{ or .Data.Title .Environment.Description.Slogan }}</title>
	<!-- scripts -->{{ end }}
</head>

<body>
	{{ block "navigation" . }}
	<!-- navigation -->
	<nav class="navbar navbar-default">
		<section class="container">
			<div class="navbar-header">
				<a href="/" class="navbar-brand">{{.Environment.Description.Title}}</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav navbar-left">
					{{ block "submitted" . }}
					{{ end }}
				</ul>
				<ul class="nav navbar-nav navbar-right">
					{{ with .Environment.CurrentUser }}
					<li class="current-user"><a href="/user?id={{.ID}}">{{.Username}}</a>({{.Karma}})</li>
					{{ else }}
					<li class="login"><a href="/login">Login</a></li>
					{{ end }}
				</ul>
			</div>
		</section>
	</nav>
	{{ end }}
	<main class="container">
		{{ if .Environment.FlashMessages }}
			<ul class="unstyled flash-messages">
			{{ range  $key,$message := .Environment.FlashMessages }}
				<li class="flash-{{$key}}">{{$message}}</li>
			{{ end }}
			<ul>
		{{ end }}
{{ end}}

{{/* 

FOOTER 

*/}}
{{ define "footer" }}
	</main>
	<footer class="container">
		{{if IsDebug}}
		<hr>
		<details>
			<summary>Debugging informations</summary>
			<div></div>
			<h3>Data</h3>
			<pre><code>{{ .Data | ToJson }}</code></pre>
			<h3>Request</h3>
			<pre>{{.Environment.Request}}</pre>
			<h3>Environment</h3>
			<pre><code>{{ .Environment | ToJson }}</code></pre>
		</details>
		{{- end }}
	</footer>
</body>

</html>
{{end}}